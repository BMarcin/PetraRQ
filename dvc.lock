schema: '2.0'
stages:
  split_dataset:
    cmd: python ./src/split_dataset.py
    deps:
    - path: ./data/in-header.tsv
      md5: 7ace96be50d1121ab573e6274b0d345b
      size: 12
    - path: ./data/out-header.tsv
      md5: 757889307369887028c89db5646b73de
      size: 7
    - path: ./data/parsed-pdfs.json
      md5: e9b60861734ddc93be6318db98c155e2
      size: 3407420087
    - path: ./src/DatasetSplitter/DatasetSplitter.py
      md5: 74decfd061dccc1e8e9f604ede9ea119
      size: 2315
    - path: ./src/split_dataset.py
      md5: 098f2f87ed3004a2e04757532524e73a
      size: 4296
    params:
      params.yaml:
        datasetsplit.dev: 0.02
        datasetsplit.sorty_by: date
        datasetsplit.test: 0.05
        datasetsplit.train: 0.93
    outs:
    - path: ./data/dev/expected.tsv
      md5: 3d12412abb2363b813ad378085ed19d1
      size: 38592
      isexec: true
    - path: ./data/dev/in.tsv
      md5: 09d219c5b5fad5e982d67e43a91909dc
      size: 99277263
      isexec: true
    - path: ./data/test/expected.tsv
      md5: 57dfcc14a1572db957dab74d62eca318
      size: 92709
      isexec: true
    - path: ./data/test/in.tsv
      md5: 5c8a4c08a232c3a980c9577224e86140
      size: 224334602
      isexec: true
    - path: ./data/train/expected.tsv
      md5: 1958975d3ec0f8eb39f76b158bff008f
      size: 1704415
      isexec: true
    - path: ./data/train/in.tsv
      md5: 51b3112bb6e0385d2f229c55b9dad2d0
      size: 2926756602
      isexec: true
  rewrite_dataset_to_lm_texts:
    cmd: python ./src/rewrite_dataset.py
    deps:
    - path: ./data/dev/in.tsv
      md5: 09d219c5b5fad5e982d67e43a91909dc
      size: 99277263
    - path: ./data/test/in.tsv
      md5: 5c8a4c08a232c3a980c9577224e86140
      size: 224334602
    - path: ./data/train/in.tsv
      md5: 51b3112bb6e0385d2f229c55b9dad2d0
      size: 2926756602
    - path: ./src/DatasetRewriter/LanguageModelingRewriter.py
      md5: da1e1d32ff54803854ca0fbb0b7054b4
      size: 1532
    - path: ./src/rewrite_dataset.py
      md5: 2feb4ef0cb9eaec8bf89af21690d4ffb
      size: 2006
    outs:
    - path: ./data/dev/lm.txt
      md5: 1165b95bb85b88610f52ba8bed5b19a0
      size: 89228339
      isexec: true
    - path: ./data/dev/processed.tsv
      md5: 1165b95bb85b88610f52ba8bed5b19a0
      size: 89228339
      isexec: true
    - path: ./data/test/lm.txt
      md5: 3cec1aac033028e6564c3a34ee2d09fc
      size: 201919370
      isexec: true
    - path: ./data/test/processed.tsv
      md5: 3cec1aac033028e6564c3a34ee2d09fc
      size: 201919370
      isexec: true
    - path: ./data/train/lm.txt
      md5: fa022cc29126fdf57a3c6f4410312489
      size: 2663967621
      isexec: true
    - path: ./data/train/processed.tsv
      md5: fa022cc29126fdf57a3c6f4410312489
      size: 2663967621
      isexec: true
